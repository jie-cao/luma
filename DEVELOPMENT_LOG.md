# LUMA Creator å¼€å‘æ—¥å¿—

æœ¬æ–‡æ¡£è®°å½• LUMA Creator çš„å¼€å‘è¿›åº¦å’Œè®¡åˆ’ï¼ŒæŒç»­æ›´æ–°ã€‚

---

## ğŸ“‹ å·²å®ŒæˆåŠŸèƒ½

### æ ¸å¿ƒæ¸²æŸ“ç³»ç»Ÿ
- [x] **DirectX 12 æ¸²æŸ“åç«¯**
  - DX12 è®¾å¤‡åˆå§‹åŒ–ã€å‘½ä»¤é˜Ÿåˆ—ã€å‘½ä»¤åˆ—è¡¨
  - æè¿°ç¬¦å †ç®¡ç†ï¼ˆSRVã€RTVã€DSVï¼‰
  - æ ¹ç­¾åå’Œç®¡çº¿çŠ¶æ€å¯¹è±¡ï¼ˆPSOï¼‰
  - å¸¸é‡ç¼“å†²åŒºï¼ˆ256 å­—èŠ‚å¯¹é½ï¼‰
  - æ·±åº¦æµ‹è¯•å’Œæ·±åº¦ç¼“å†²åŒº

- [x] **PBR æ¸²æŸ“ç®¡çº¿**
  - Cook-Torrance BRDFï¼ˆGGX åˆ†å¸ƒã€Smith å‡ ä½•å‡½æ•°ã€Fresnel-Schlickï¼‰
  - èƒ½é‡å®ˆæ’ï¼ˆé‡‘å±åº¦/ç²—ç³™åº¦ï¼‰
  - ACES Filmic è‰²è°ƒæ˜ å°„
  - Gamma æ ¡æ­£ï¼ˆsRGB â†” Linearï¼‰
  - æ–¹å‘å…‰ + åŠçƒç¯å¢ƒå…‰

- [x] **çº¹ç†æ”¯æŒ**
  - åŸºç¡€è‰²è´´å›¾ï¼ˆAlbedo/Diffuseï¼‰
  - æ³•çº¿è´´å›¾ï¼ˆNormal Mappingï¼ŒTBN çŸ©é˜µï¼‰
  - ORM è´´å›¾ï¼ˆOcclusion-Roughness-Metallicï¼‰
  - çº¹ç†è‡ªåŠ¨æ£€æµ‹ï¼ˆé€šè¿‡é‡‡æ ·äº®åº¦åˆ¤æ–­ï¼‰
  - åµŒå…¥çº¹ç†æ”¯æŒï¼ˆFBX å†…åµŒçº¹ç†ï¼‰
  - å„å‘å¼‚æ€§è¿‡æ»¤

- [x] **æ¨¡å‹åŠ è½½**
  - Assimp é›†æˆï¼ˆæ”¯æŒ FBX/OBJ/glTF/DAE/3DS ç­‰ 40+ æ ¼å¼ï¼‰
  - é¡¶ç‚¹æ•°æ®ï¼ˆä½ç½®ã€æ³•çº¿ã€åˆ‡çº¿ã€UVã€é¢œè‰²ï¼‰
  - æè´¨å‚æ•°è¯»å–ï¼ˆMetallicã€Roughnessã€Base Colorï¼‰
  - æ¨¡å‹è¾¹ç•Œè®¡ç®—ï¼ˆä¸­å¿ƒç‚¹ã€åŠå¾„ï¼‰
  - å¤šç½‘æ ¼æ”¯æŒ

### è§†å£ä¸ç›¸æœº
- [x] **Maya é£æ ¼ç›¸æœºæ§åˆ¶**
  - æ—‹è½¬ï¼ˆAlt + å·¦é”®ï¼‰ï¼šå›´ç»•ç›®æ ‡ç‚¹è½¨é“æ—‹è½¬
  - å¹³ç§»ï¼ˆAlt + ä¸­é”®ï¼‰ï¼šä¸Šä¸‹å·¦å³å¹³ç§»è§†å£
  - ç¼©æ”¾ï¼ˆAlt + å³é”® / æ»šè½®ï¼‰ï¼šæ¨æ‹‰ç›¸æœºè·ç¦»
  - é‡ç½®ç›¸æœºï¼ˆF é”®ï¼‰
  - è‡ªåŠ¨æ—‹è½¬ï¼ˆå¯é€‰ï¼‰

- [x] **åŠ¨æ€è£å‰ªå¹³é¢**
  - æ ¹æ®ç›¸æœºè·ç¦»è‡ªåŠ¨è°ƒæ•´è¿‘/è¿œè£å‰ªå¹³é¢
  - æ”¯æŒå¤§åœºæ™¯ç¼©æ”¾ï¼ˆé¿å…ç‰©ä½“æ¶ˆå¤±ï¼‰

- [x] **è§†è§‰è¾…åŠ©**
  - ä¸–ç•Œåæ ‡è½´ï¼ˆåŸç‚¹ XYZ è½´æŒ‡ç¤ºå™¨ï¼‰
  - åœ°é¢ç½‘æ ¼ï¼ˆå¯åˆ‡æ¢æ˜¾ç¤ºï¼ŒG é”®ï¼‰
  - 3D æ–¹å‘æŒ‡ç¤ºå™¨ï¼ˆè§†å£è§’è½ï¼‰

### ç”¨æˆ·ç•Œé¢
- [x] **ImGui é›†æˆ**
  - æ·±è‰²ä¸»é¢˜
  - ä¸»èœå•æ ï¼ˆFileã€Viewï¼‰
  - æ¨¡å‹ä¿¡æ¯é¢æ¿ï¼ˆæ˜¾ç¤ºæ¨¡å‹åã€ç½‘æ ¼æ•°ã€é¡¶ç‚¹æ•°ç­‰ï¼‰
  - ç›¸æœºæ§åˆ¶é¢æ¿ï¼ˆè·ç¦»ã€æ—‹è½¬è§’åº¦ã€ç›®æ ‡åç§»ï¼‰
  - è§†å£è®¾ç½®é¢æ¿ï¼ˆç½‘æ ¼ã€åæ ‡è½´å¼€å…³ï¼‰
  - å¸®åŠ©è¦†ç›–å±‚ï¼ˆF1 é”®ï¼Œå¿«æ·é”®è¯´æ˜ï¼‰
  - çŠ¶æ€æ ï¼ˆFPS æ˜¾ç¤ºï¼‰

- [x] **æ–‡ä»¶å¯¹è¯æ¡†**
  - Windows åŸç”Ÿæ–‡ä»¶é€‰æ‹©å¯¹è¯æ¡†
  - æ”¯æŒå¤šæ ¼å¼è¿‡æ»¤

### æ¶æ„è®¾è®¡
- [x] **æ¨¡å—åŒ–æ¶æ„**
  - `UnifiedRenderer`ï¼šè·¨å¹³å°æ¸²æŸ“å™¨ï¼ˆDX12/Metalï¼‰
  - `OrbitCamera`ï¼šç›¸æœºçŠ¶æ€ç®¡ç†
  - `Viewport`ï¼šè§†å£æ§åˆ¶å™¨ï¼ˆè¾“å…¥å¤„ç†ã€æ¸²æŸ“ç¼–æ’ï¼‰
  - `UIPanels`ï¼šUI é¢æ¿æ¨¡å—åŒ–
  - `AsyncTextureLoader`ï¼šå¼‚æ­¥çº¹ç†åŠ è½½ç³»ç»Ÿ

- [x] **èµ„æºç®¡ç†**
  - GPU ç¼“å†²åŒºç®¡ç†ï¼ˆé¡¶ç‚¹ã€ç´¢å¼•ï¼‰
  - çº¹ç†èµ„æºç®¡ç†ï¼ˆSRV ç´¢å¼•åˆ†é…ï¼‰
  - å‘½ä»¤åˆ—è¡¨åŒæ­¥ï¼ˆFenceã€ç­‰å¾… GPUï¼‰

---

## ğŸ¯ å¼€å‘è·¯çº¿å›¾

æŒ‰ä¼˜å…ˆçº§æ’åºçš„åŠŸèƒ½å¼€å‘è®¡åˆ’ï¼š

### é˜¶æ®µ 1ï¼šåœºæ™¯å›¾ + å¤šå¯¹è±¡æ”¯æŒ âœ… [å·²å®Œæˆ]

è¿™æ˜¯æ‰€æœ‰åç»­åŠŸèƒ½çš„åŸºç¡€ã€‚

- [x] **åœºæ™¯å›¾ç³»ç»Ÿ**
  - Entity å®ä½“ç±»ï¼ˆå”¯ä¸€ IDã€åç§°ã€å¯ç”¨çŠ¶æ€ï¼‰
  - Transform ç»„ä»¶ï¼ˆä½ç½®ã€æ—‹è½¬ã€ç¼©æ”¾ã€çŸ©é˜µè®¡ç®—ï¼‰
  - çˆ¶å­å±‚çº§å…³ç³»ï¼ˆå±€éƒ¨/ä¸–ç•Œå˜æ¢ï¼‰
  - SceneGraph ç®¡ç†å™¨ï¼ˆåˆ›å»ºã€åˆ é™¤ã€éå†ï¼‰

- [x] **å¤šå¯¹è±¡æ¸²æŸ“**
  - æ¯ä¸ª Entity å…³è” RHILoadedModel
  - æŒ‰ Entity Transform æ¸²æŸ“æ¨¡å‹
  - æ”¯æŒå¤šä¸ªæ¨¡å‹åŒæ—¶æ˜¾ç¤º
  - UnifiedRenderer::setCamera() + renderModel() API

- [x] **åœºæ™¯ç¼–è¾‘å™¨ UI**
  - åœºæ™¯å±‚æ¬¡é¢æ¿ï¼ˆScene Hierarchyï¼‰
  - æ·»åŠ /åˆ é™¤å¯¹è±¡
  - Inspector é¢æ¿ï¼ˆTransform ç¼–è¾‘ï¼‰

### é˜¶æ®µ 2ï¼šé˜´å½±ç³»ç»Ÿ âœ… [å·²å®Œæˆ]

PBR ä¹‹åæœ€é‡è¦çš„è§†è§‰ç‰¹æ€§ã€‚

- [x] **Shadow Mapping**
  - æ–¹å‘å…‰æ·±åº¦è´´å›¾ (2048x2048 é»˜è®¤)
  - é˜´å½±çŸ©é˜µè®¡ç®— (æ­£äº¤æŠ•å½±)
  - Shader é˜´å½±é‡‡æ ·

- [x] **é˜´å½±è´¨é‡**
  - PCF 3x3 è½¯é˜´å½±
  - æ·±åº¦åç½® + æ³•çº¿åç½®
  - å¯é…ç½®é˜´å½±è·ç¦»

**API:**
```cpp
ShadowSettings settings;
settings.enabled = true;
settings.mapSize = 2048;
settings.bias = 0.005f;
settings.pcfSamples = 3;
renderer.setShadowSettings(settings);

// In render loop:
renderer.beginShadowPass(sceneRadius);
scene.traverseRenderables([&](Entity* e) {
    renderer.renderModelShadow(e->model, e->worldMatrix.m);
});
renderer.endShadowPass();
```

### é˜¶æ®µ 3ï¼šIBL ç¯å¢ƒå…‰ç…§ âœ… [å·²å®Œæˆ]

è®© PBR æè´¨æ•ˆæœæ›´å®Œæ•´ã€‚

- [x] **Image-Based Lighting**
  - HDR ç¯å¢ƒè´´å›¾åŠ è½½ï¼ˆ.hdr æ ¼å¼ï¼‰
  - è¾ç…§åº¦è´´å›¾ï¼ˆDiffuse IBLï¼‰- CPU é¢„è®¡ç®—
  - é¢„è¿‡æ»¤ç¯å¢ƒè´´å›¾ï¼ˆSpecular IBLï¼‰- CPU é¢„è®¡ç®—
  - BRDF LUT (Split-Sum è¿‘ä¼¼)

**API:**
```cpp
IBLSettings ibl;
ibl.enabled = true;
ibl.intensity = 1.0f;
ibl.rotation = 0.0f;
renderer.setIBLSettings(ibl);
renderer.loadEnvironmentMap("path/to/environment.hdr");

// Shader è‡ªåŠ¨ä½¿ç”¨ IBL æ›¿ä»£ç®€å•ç¯å¢ƒå…‰
```

### é˜¶æ®µ 4ï¼šShader çƒ­é‡è½½ âœ… [å·²å®Œæˆ]

æå‡å¼€å‘è¿­ä»£æ•ˆç‡ã€‚

- [x] **æ–‡ä»¶ç›‘æ§**
  - è·¨å¹³å°æ–‡ä»¶ç›‘è§†å™¨ (FileWatcher)
  - ç›‘æ§ shaders/ ç›®å½•å˜åŒ–
  - æ£€æµ‹åˆ°ä¿®æ”¹æ—¶è‡ªåŠ¨è§¦å‘é‡ç¼–è¯‘

- [x] **Pipeline çƒ­æ›¿æ¢**
  - DX12: ä»å¤–éƒ¨ .hlsl æ–‡ä»¶åŠ è½½å’Œç¼–è¯‘
  - Metal: ä»å¤–éƒ¨ .metal æ–‡ä»¶é‡æ–°ç¼–è¯‘
  - éªŒè¯ç¼–è¯‘æˆåŠŸåæ›¿æ¢ Pipeline
  - å¤±è´¥æ—¶ä¿æŒæ—§ç‰ˆæœ¬å¹¶è¾“å‡ºé”™è¯¯

**API:**
```cpp
// å¯ç”¨çƒ­é‡è½½
renderer.setShaderHotReload(true);

// æ¯å¸§æ£€æŸ¥æ–‡ä»¶å˜åŒ–
renderer.checkShaderReload();

// æ‰‹åŠ¨è§¦å‘é‡è½½
if (!renderer.reloadShaders()) {
    std::cout << "Error: " << renderer.getShaderError() << std::endl;
}

// æ£€æŸ¥çŠ¶æ€
bool enabled = renderer.isShaderHotReloadEnabled();
```

**æ–‡ä»¶ä½ç½®:**
- `engine/renderer/shaders/pbr.hlsl` (DX12)
- `engine/renderer/shaders/shadow.hlsl` (DX12)
- `engine/renderer/shaders/pbr.metal` (Metal)

### é˜¶æ®µ 5ï¼šå¯¹è±¡é€‰æ‹©ä¸æ“ä½œ âœ… [å·²å®Œæˆ]

ç¼–è¾‘å™¨æ ¸å¿ƒäº¤äº’ã€‚

- [x] **é¼ æ ‡æ‹¾å–**
  - å°„çº¿-AABB ç›¸äº¤æ£€æµ‹
  - å±å¹•åæ ‡è½¬ä¸–ç•Œç©ºé—´å°„çº¿
  - åœºæ™¯éå†æ‰¾æœ€è¿‘å‘½ä¸­

- [x] **Transform Gizmo**
  - ç§»åŠ¨æ‰‹æŸ„ï¼ˆXYZ è½´ï¼‰
  - æ—‹è½¬æ‰‹æŸ„ï¼ˆä¸‰ä¸ªå¹³é¢åœ†ç¯ï¼‰
  - ç¼©æ”¾æ‰‹æŸ„ï¼ˆè½´å‘ + å‡åŒ€ç¼©æ”¾ï¼‰
  - æ‚¬åœ/æ¿€æ´»çŠ¶æ€é«˜äº®

**æ–‡ä»¶:**
- `engine/scene/picking.h` - å°„çº¿ã€AABBã€æ‹¾å–
- `engine/editor/gizmo.h` - Transform Gizmo

**API:**
```cpp
// å°„çº¿æ‹¾å–
float vpInverse[16];
renderer.getViewProjectionInverse(vpInverse);

float ndcX, ndcY;
pixelToNDC(mouseX, mouseY, width, height, ndcX, ndcY);
Ray ray = screenToWorldRay(ndcX, ndcY, vpInverse);

PickResult result = pickEntity(scene, ray);
if (result.hit()) {
    scene.setSelectedEntity(result.entity);
}

// Gizmo ä½¿ç”¨
TransformGizmo gizmo;
gizmo.setMode(GizmoMode::Translate);  // æˆ– Rotate, Scale
gizmo.setTarget(selectedEntity);

// æ£€æµ‹æ‚¬åœ
gizmo.testHover(ray, screenScale);

// æ‹–æ‹½äº¤äº’
if (mouseDown) gizmo.beginDrag(ray, screenScale);
if (dragging) gizmo.updateDrag(ray);
if (mouseUp) gizmo.endDrag();

// æ¸²æŸ“ Gizmo
GizmoRenderData data = gizmo.generateRenderData(screenScale);
std::vector<float> lines;
for (auto& line : data.lines) {
    lines.insert(lines.end(), {line.start.x, line.start.y, line.start.z,
                               line.end.x, line.end.y, line.end.z,
                               line.color[0], line.color[1], line.color[2], line.color[3]});
}
renderer.renderGizmoLines(lines.data(), data.lines.size());
```

### é˜¶æ®µ 6ï¼šåŠ¨ç”»ç³»ç»Ÿ âœ… [å·²å®Œæˆ]

è§’è‰²å’Œç‰©ä½“åŠ¨ç”»ã€‚

- [x] **éª¨éª¼åŠ¨ç”»**
  - éª¨éª¼å±‚æ¬¡ç»“æ„ (Skeleton)
  - é€†ç»‘å®šçŸ©é˜µ (Inverse Bind Matrix)
  - éª¨éª¼å±€éƒ¨å˜æ¢

- [x] **åŠ¨ç”»å‰ªè¾‘ (AnimationClip)**
  - ä½ç½®/æ—‹è½¬/ç¼©æ”¾å…³é”®å¸§
  - çº¿æ€§/çƒé¢æ’å€¼
  - å¾ªç¯/å•æ¬¡æ’­æ”¾

- [x] **åŠ¨ç”»æ’­æ”¾å™¨ (Animator)**
  - åŠ¨ç”»çŠ¶æ€ç®¡ç†
  - äº¤å‰æ·¡å…¥æ·¡å‡º (Crossfade)
  - å¤šåŠ¨ç”»æ··åˆ

- [x] **GPU Skinning**
  - HLSL/MSL Skinning Shader
  - æ¯é¡¶ç‚¹ 4 éª¨éª¼å½±å“
  - éª¨éª¼çŸ©é˜µç¼“å†²åŒº

**æ–‡ä»¶:**
- `engine/animation/skeleton.h` - éª¨éª¼å±‚æ¬¡
- `engine/animation/animation_clip.h` - åŠ¨ç”»æ•°æ®
- `engine/animation/animator.h` - æ’­æ”¾å’Œæ··åˆ
- `engine/animation/animation.h` - ç»Ÿä¸€å¤´æ–‡ä»¶
- `engine/renderer/shaders/skinned.hlsl` - DX12 è’™çš®ç€è‰²å™¨
- `engine/renderer/shaders/skinned.metal` - Metal è’™çš®ç€è‰²å™¨

**API:**
```cpp
// åˆ›å»ºéª¨éª¼
Skeleton skeleton;
int rootBone = skeleton.addBone("root", -1);
int spineBone = skeleton.addBone("spine", rootBone);
skeleton.setInverseBindMatrix(rootBone, inverseBindMat);

// åˆ›å»ºåŠ¨ç”»å‰ªè¾‘
auto clip = std::make_unique<AnimationClip>();
clip->name = "walk";
clip->duration = 1.0f;
auto& channel = clip->addChannel("spine");
channel.rotationKeys.push_back({0.0f, Quat::fromEuler(0, 0, 0)});
channel.rotationKeys.push_back({1.0f, Quat::fromEuler(0, 0.5f, 0)});

// æ’­æ”¾åŠ¨ç”»
Animator animator;
animator.setSkeleton(&skeleton);
animator.addClip("walk", std::move(clip));
animator.play("walk", 0.2f);  // 0.2s crossfade

// æ¯å¸§æ›´æ–°
animator.update(deltaTime);

// è·å–è’™çš®çŸ©é˜µ
Mat4 skinningMatrices[MAX_BONES];
animator.getSkinningMatrices(skinningMatrices);
// ä¸Šä¼ åˆ° GPU å¹¶æ¸²æŸ“
```

### é˜¶æ®µ 7ï¼šåå¤„ç†æ•ˆæœ âœ… [å·²å®Œæˆ]

- [x] **Bloom æ³›å…‰**
  - äº®åº¦é˜ˆå€¼æå–
  - å¤šçº§é«˜æ–¯æ¨¡ç³Š
  - è½¯é˜ˆå€¼è¿‡æ¸¡

- [x] **è‰²è°ƒæ˜ å°„ (Tone Mapping)**
  - Reinhard
  - ACES Filmic
  - Filmic
  - Uncharted 2
  - æ›å…‰è°ƒæ•´

- [x] **è‰²å½©è°ƒæ•´ (Color Grading)**
  - Lift/Gamma/Gain
  - è‰²æ¸©/è‰²è°ƒ
  - å¯¹æ¯”åº¦/é¥±å’Œåº¦

- [x] **FXAA æŠ—é”¯é½¿**
  - è¾¹ç¼˜æ£€æµ‹
  - äºšåƒç´ æ··åˆ

- [x] **å…¶ä»–æ•ˆæœ**
  - Vignette æš—è§’
  - Chromatic Aberration è‰²å·®
  - Film Grain èƒ¶ç‰‡é¢—ç²’

**æ–‡ä»¶:**
- `engine/renderer/post_process.h` - åå¤„ç†è®¾ç½®å’Œå¸¸é‡
- `engine/renderer/shaders/post_process.hlsl` - DX12 åå¤„ç†ç€è‰²å™¨
- `engine/renderer/shaders/post_process.metal` - Metal åå¤„ç†ç€è‰²å™¨

**API:**
```cpp
PostProcessSettings pp;

// Bloom
pp.bloom.enabled = true;
pp.bloom.threshold = 1.0f;
pp.bloom.intensity = 0.8f;

// Tone Mapping
pp.toneMapping.mode = ToneMappingSettings::Mode::ACES;
pp.toneMapping.exposure = 1.2f;

// Color Grading
pp.colorGrading.saturation = 1.1f;
pp.colorGrading.temperature = 0.1f;  // åæš–

// Vignette
pp.vignette.enabled = true;
pp.vignette.intensity = 0.3f;

// FXAA
pp.fxaa.enabled = true;

// åº”ç”¨åˆ°æ¸²æŸ“å™¨
renderer.setPostProcessSettings(pp);
```

### é˜¶æ®µ 8ï¼šåºåˆ—åŒ–ä¸èµ„æºç®¡ç† âœ… [å·²å®Œæˆ]

- [x] **JSON åºåˆ—åŒ–åº“**
  - è½»é‡çº§ header-only å®ç°
  - æ”¯æŒ null/bool/number/string/array/object
  - è§£æå™¨å’Œæ ¼å¼åŒ–è¾“å‡º
  - æ–‡ä»¶è¯»å†™

- [x] **åœºæ™¯åºåˆ—åŒ–**
  - Entity/Transform/Vec3/Quat åºåˆ—åŒ–
  - å±‚çº§å…³ç³»ä¿å­˜
  - æ¨¡å‹å¼•ç”¨æŒä¹…åŒ–
  - åœºæ™¯æ–‡ä»¶åŠ è½½/ä¿å­˜

- [x] **èµ„æºç®¡ç†å™¨**
  - èµ„äº§ç¼“å­˜ (Asset Cache)
  - å¼•ç”¨è®¡æ•°
  - è‡ªåŠ¨åƒåœ¾å›æ”¶ (GC)
  - ç¼“å­˜ç»Ÿè®¡

**æ–‡ä»¶:**
- `engine/serialization/json.h` - JSON è§£æå™¨/å†™å…¥å™¨
- `engine/serialization/scene_serializer.h` - åœºæ™¯åºåˆ—åŒ–
- `engine/asset/asset_manager.h` - èµ„æºç®¡ç†å™¨

**API:**

```cpp
// === JSON ===
JsonValue obj = JsonValue::object();
obj["name"] = "MyScene";
obj["entities"] = JsonValue::array();

std::string jsonStr = toJson(obj, true);  // æ ¼å¼åŒ–è¾“å‡º
JsonValue parsed = parseJson(jsonStr);

// æ–‡ä»¶æ“ä½œ
saveJsonFile("scene.json", obj);
JsonValue loaded = loadJsonFile("scene.json");

// === åœºæ™¯åºåˆ—åŒ– ===
SceneGraph scene;
// ... åˆ›å»ºå®ä½“ ...

// ä¿å­˜åœºæ™¯
SceneSerializer::saveScene(scene, "level1.scene", "Level 1");

// åŠ è½½åœºæ™¯
SceneSerializer::loadScene(scene, "level1.scene", 
    [&](const std::string& path, RHILoadedModel& model) {
        return renderer.loadModel(path, model);
    });

// === èµ„æºç®¡ç†å™¨ ===
AssetManager& assets = getAssetManager();

// è®¾ç½®åŠ è½½å™¨
assets.setModelLoader([&](const std::string& path) {
    return std::make_shared<Model>(loadModel(path));
});

// åŠ è½½èµ„æºï¼ˆè‡ªåŠ¨ç¼“å­˜ï¼‰
auto model = assets.loadModel<Model>("models/player.fbx");

// å¼•ç”¨è®¡æ•°
assets.addRef("models/player.fbx");
assets.release("models/player.fbx");

// åƒåœ¾å›æ”¶
assets.setUnusedTimeout(std::chrono::seconds(300));
assets.collectGarbage();

// ç»Ÿè®¡
auto stats = assets.getStatistics();
// stats.cacheHits, stats.cacheMisses, stats.hitRate
```

### é˜¶æ®µ 9ï¼šç¼–è¾‘å™¨ UI ç³»ç»Ÿ âœ… [å·²å®Œæˆ]

å®Œæ•´çš„ ImGui ç¼–è¾‘å™¨ç•Œé¢ç³»ç»Ÿï¼Œæ”¯æŒç°ä»£ç¼–è¾‘å™¨å·¥ä½œæµã€‚

**æ–‡ä»¶:**
- `engine/ui/editor_ui.h` - å®Œæ•´çš„ç¼–è¾‘å™¨ UI ç³»ç»Ÿ

**UI å¸ƒå±€:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  File  Edit  View  Window                              FPS: 60      â”‚ <- Menu Bar
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Move] [Rotate] [Scale] | [Local/World] | [x] Snap  | [>] [||]     â”‚ <- Toolbar
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Hierarchy   â”‚                                    â”‚ Inspector         â”‚
â”‚             â”‚                                    â”‚                   â”‚
â”‚ â—† Player    â”‚         3D Viewport                â”‚ Name: [Player  ]  â”‚
â”‚   â—† Weapon  â”‚                                    â”‚                   â”‚
â”‚ â—† Enemy     â”‚                                    â”‚ â–¼ Transform       â”‚
â”‚ â—‹ Light     â”‚                                    â”‚   Position [x,y,z]â”‚
â”‚             â”‚                                    â”‚   Rotation [x,y,z]â”‚
â”‚             â”‚                                    â”‚   Scale    [x,y,z]â”‚
â”‚             â”‚                                    â”‚                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                    â”‚ â–¼ Model           â”‚
â”‚ Post Proc.  â”‚                                    â”‚   Meshes: 3       â”‚
â”‚ â–¼ Bloom     â”‚                                    â”‚   Verts: 12450    â”‚
â”‚   [x] On    â”‚                                    â”‚                   â”‚
â”‚   Thresh 1.0â”‚                                    â”‚ [Add Component]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Assets                            â”‚ Animation Timeline               â”‚
â”‚ [D] models/  [M] player.fbx      â”‚ Clip: [Walk    v]  [Loop] Speed  â”‚
â”‚ [T] diffuse.png                  â”‚      |<  <  [>]  >  >|           â”‚
â”‚                                  â”‚ Time: 0.50 / 2.00                â”‚
â”‚                                  â”‚ â–“â–“â–“â–“â–“â–“â–“|â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ W/E/R: Transform | Alt+Mouse: Camera | F: Focus | G: Grid           â”‚ <- Status Bar
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åŠŸèƒ½é¢æ¿:**

| é¢æ¿ | åŠŸèƒ½ |
|------|------|
| **Toolbar** | å˜æ¢å·¥å…· (ç§»åŠ¨/æ—‹è½¬/ç¼©æ”¾)ã€åæ ‡ç©ºé—´ã€å¸é™„ã€åŠ¨ç”»æ’­æ”¾ |
| **Hierarchy** | åœºæ™¯æ ‘ã€æœç´¢ã€æ‹–æ‹½æ’åºã€å³é”®èœå•ã€æ·»åŠ å®ä½“ |
| **Inspector** | å®ä½“å±æ€§ã€Transform ç¼–è¾‘ã€ç»„ä»¶ç®¡ç† |
| **Post Processing** | Bloomã€Tone Mappingã€Color Gradingã€Vignetteã€FXAA ç­‰ |
| **Render Settings** | é˜´å½±è®¾ç½®ã€IBL è®¾ç½®ã€è°ƒè¯•å¯è§†åŒ– |
| **Lighting** | æ–¹å‘å…‰ã€ç¯å¢ƒå…‰è®¾ç½® |
| **Animation Timeline** | åŠ¨ç”»å‰ªè¾‘é€‰æ‹©ã€æ’­æ”¾æ§åˆ¶ã€æ—¶é—´è½´æ‹–åŠ¨ |
| **Asset Browser** | æ–‡ä»¶æµè§ˆã€æ‹–æ‹½åŠ è½½ã€èµ„æºé¢„è§ˆ |
| **Console** | æ—¥å¿—è¾“å‡ºã€é”™è¯¯ä¿¡æ¯ |
| **Statistics** | FPSã€Draw Callsã€ä¸‰è§’å½¢/é¡¶ç‚¹æ•° |
| **Shader Status** | Hot-Reload çŠ¶æ€ã€ç¼–è¯‘é”™è¯¯ |

**å¿«æ·é”®:**
- `W` - ç§»åŠ¨å·¥å…·
- `E` - æ—‹è½¬å·¥å…·  
- `R` - ç¼©æ”¾å·¥å…·
- `F` - èšç„¦é€‰ä¸­å¯¹è±¡
- `G` - åˆ‡æ¢ç½‘æ ¼
- `Del` - åˆ é™¤é€‰ä¸­
- `Ctrl+D` - å¤åˆ¶
- `Alt+LMB` - è½¨é“æ—‹è½¬
- `Alt+MMB` - å¹³ç§»
- `Alt+RMB` - ç¼©æ”¾

**ä½¿ç”¨ç¤ºä¾‹:**
```cpp
#include "engine/ui/editor_ui.h"

// åˆå§‹åŒ–
ui::applyEditorTheme();

ui::EditorState editorState;
ui::PostProcessSettings postProcess;
ui::RenderSettings renderSettings;
ui::LightSettings lighting;
ui::AnimationState animation;

editorState.onModelLoad = [&](const std::string& path) {
    // åŠ è½½æ¨¡å‹
};

// æ¸²æŸ“å¾ªç¯
bool shouldQuit = false;
ui::drawMainMenuBar(editorState, viewport, shouldQuit);
ui::drawToolbar(editorState, gizmo);
ui::drawHierarchyPanel(scene, editorState);
ui::drawInspectorPanel(scene, editorState);
ui::drawPostProcessPanel(postProcess, editorState);
ui::drawRenderSettingsPanel(renderSettings, editorState);
ui::drawLightingPanel(lighting, editorState);
ui::drawAnimationTimeline(animation, editorState);
ui::drawAssetBrowser(editorState);
ui::drawConsole(editorState);
ui::drawStatsPanel(editorState);
ui::drawShaderStatus(shaderError, hotReload, onReload, editorState);
ui::drawStatusBar(width, height);
```

### é˜¶æ®µ 10ï¼šæ•´åˆæµ‹è¯•ä¸åº”ç”¨é‡æ„ ğŸš§ [è¿›è¡Œä¸­]

å°†æ‰€æœ‰å·²å®ç°çš„åŠŸèƒ½æ•´åˆåˆ°ä¸»åº”ç”¨ä¸­ï¼ŒéªŒè¯ååŒå·¥ä½œã€‚

#### 10.1 åº”ç”¨é‡å‘½å âœ…
- [x] `creator_imgui` â†’ `luma_studio` (LUMA Studio)
- [x] `creator_macos` â†’ `luma_studio_macos`
- [x] æ›´æ–° CMakeLists.txt ä¸­çš„ç›®æ ‡åç§°
- [x] æ›´æ–°çª—å£æ ‡é¢˜ä¸º "LUMA Studio"

#### 10.2 æ–° UI ç³»ç»Ÿæ¥å…¥ âœ…
- [x] æ›¿æ¢æ—§çš„ `panels.h` ä¸ºæ–°çš„ `editor_ui.h`
- [x] æ¥å…¥ EditorState çŠ¶æ€ç®¡ç†
- [x] æ¥å…¥ Toolbar å’Œ Gizmo æ§åˆ¶
- [x] æ¥å…¥å®Œæ•´çš„ Inspector é¢æ¿
- [x] æ¥å…¥ Post-Processing / Render Settings / Lighting é¢æ¿
- [x] æ¥å…¥ Animation Timeline
- [x] æ¥å…¥ Asset Browser å’Œ Console
- [x] Windows (DX12) å’Œ macOS (Metal) åŒå¹³å°æ›´æ–°

#### 10.3 åå¤„ç†ç®¡çº¿æ¥å…¥ âœ…
- [x] åå¤„ç† API å·²æ·»åŠ åˆ° UnifiedRenderer
  - `setPostProcessEnabled()` / `isPostProcessEnabled()`
  - `setPostProcessParams()` / `getFrameTime()`
- [x] Frame time è·Ÿè¸ªï¼ˆç”¨äºåŠ¨ç”»æ•ˆæœï¼‰
- [x] UI å‚æ•°ä¼ é€’åˆ°æ¸²æŸ“å™¨ï¼ˆWindows + macOSï¼‰
- [x] **HDR æ¸²æŸ“ç›®æ ‡** (RGBA16Float)
- [x] **Bloom ç®¡çº¿**:
  - Bloom é˜ˆå€¼æå– pass
  - æ°´å¹³é«˜æ–¯æ¨¡ç³Š pass (9-tap)
  - å‚ç›´é«˜æ–¯æ¨¡ç³Š pass (9-tap)
  - æœ€ç»ˆåˆæˆ pass (scene + bloom + tone mapping + vignette + film grain)
- [x] DX12 å®ç° (`unified_renderer_dx12.cpp`)
- [x] Metal å®ç° (`unified_renderer_metal.mm`)

**åå¤„ç†ç®¡çº¿æ¶æ„:**
```
Scene â”€â”€â–¶ HDR Target (RGBA16F) â”€â”€â–¶ Bloom Threshold â”€â”€â–¶ Blur H â”€â”€â–¶ Blur V â”€â”€â–¶ Composite â”€â”€â–¶ Swapchain
                                        â”‚                                         â”‚
                                        â””â”€â”€ æå–äº®åº¦ > threshold çš„åƒç´  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                                   â”‚
                                                                        + ACES Tone Mapping
                                                                        + Vignette
                                                                        + Film Grain
                                                                        + Gamma Correction
```

#### 10.4 åŠ¨ç”»ç³»ç»Ÿæ¥å…¥ âœ…
**å·²å®Œæˆ:**
- [x] åŠ¨ç”»æ•°æ®ç»“æ„ (Skeleton, AnimationClip, Animator)
- [x] æ¨¡å‹åŠ è½½å™¨æ”¯æŒéª¨éª¼å’ŒåŠ¨ç”» (`load_model_with_animations`)
- [x] SkinnedVertex ç»“æ„ (bone indices + weights)
- [x] Skinned shader (HLSL + Metal)
- [x] Entity æ·»åŠ  Skeleton å’Œ Animator æˆå‘˜
- [x] UnifiedRenderer æ·»åŠ  `renderSkinnedModel()` æ–¹æ³•
- [x] DX12 skinned pipeline (root signature + PSO + bone buffer)
- [x] Metal skinned pipeline (pipeline state + bone buffer)
- [x] åº”ç”¨ä¸­ä½¿ç”¨ `load_model_with_animations` (Windows + macOS)
- [x] è¿æ¥ Timeline UI åˆ° Animator (æ’­æ”¾/æš‚åœ/æ—¶é—´åŒæ­¥)
- [x] åŠ¨ç”»ç³»ç»Ÿå•å…ƒæµ‹è¯• (`animation_test.h`)
- [x] Animator æ·»åŠ  `setLooping()` å’Œ `setTime()` æ–¹æ³•

**æ–‡ä»¶:**
- `engine/animation/skeleton.h` - éª¨éª¼å±‚æ¬¡ç»“æ„
- `engine/animation/animation_clip.h` - å…³é”®å¸§åŠ¨ç”»æ•°æ®
- `engine/animation/animator.h` - åŠ¨ç”»æ’­æ”¾å’Œæ··åˆ
- `engine/animation/animation.h` - ç»Ÿä¸€å¤´æ–‡ä»¶
- `engine/animation/animation_test.h` - åŠ¨ç”»ç³»ç»Ÿæµ‹è¯•
- `engine/scene/entity.h` - Entity æ”¯æŒ skeleton + animator
- `engine/renderer/mesh.h` - SkinnedVertex ç»“æ„
- `engine/renderer/unified_renderer.h` - renderSkinnedModel API
- `engine/renderer/shaders/skinned.hlsl` - GPU è’™çš®ç€è‰²å™¨ (DX12)
- `engine/renderer/shaders/skinned.metal` - GPU è’™çš®ç€è‰²å™¨ (Metal)
- `apps/luma_studio/main.cpp` - Windows åº”ç”¨é›†æˆ
- `apps/luma_studio_macos/LumaView.mm` - macOS åº”ç”¨é›†æˆ

**æµ‹è¯•:**
è¿è¡ŒåŠ¨ç”»ç³»ç»Ÿæµ‹è¯•: `cmake --build build && ./build/luma_anim_test`
æµ‹è¯•å†…å®¹:
1. éª¨éª¼åˆ›å»º (3-bone arm skeleton)
2. åŠ¨ç”»å‰ªè¾‘åˆ›å»º (wave animation)
3. Animator æ’­æ”¾å’Œæ›´æ–°
4. æ—¶é—´è¿½è¸ª
5. Skinned mesh åˆ›å»º
6. å¾ªç¯æ’­æ”¾
7. åœæ­¢/é‡ç½®

#### 10.5 åœºæ™¯åºåˆ—åŒ–æ¥å…¥ âœ…
- [x] File â†’ Save Scene åŠŸèƒ½ï¼ˆå·²è¿æ¥å›è°ƒï¼‰
- [x] File â†’ Open Scene åŠŸèƒ½ï¼ˆå·²è¿æ¥å›è°ƒï¼‰
- [x] æ¨¡å‹è·¯å¾„æŒä¹…åŒ–
- [x] ä¿å­˜/æ¢å¤ç›¸æœºçŠ¶æ€ (yaw, pitch, distance, target offset)
- [x] ä¿å­˜/æ¢å¤åå¤„ç†è®¾ç½® (bloom, tone mapping, vignette, chromatic aberration, film grain, FXAA)
- [x] åœºæ™¯æ–‡ä»¶ç‰ˆæœ¬å‡çº§ (v1 â†’ v2)
- [x] æ–°å¢ `saveSceneFull()` / `loadSceneFull()` API

**æ–‡ä»¶:**
- `engine/serialization/scene_serializer.h` - æ‰©å±•åºåˆ—åŒ–æ”¯æŒ
  - `serializeCameraParams()` / `deserializeCameraParams()`
  - `serializePostProcess()` / `deserializePostProcess()`
- `apps/luma_studio/main.cpp` - Windows åº”ç”¨ä½¿ç”¨æ–° API
- `apps/luma_studio_macos/LumaView.mm` - macOS åº”ç”¨ä½¿ç”¨æ–° API

**åœºæ™¯æ–‡ä»¶æ ¼å¼ (v2):**
```json
{
  "version": 2,
  "name": "My Scene",
  "camera": {
    "yaw": 0.78, "pitch": 0.5, "distance": 1.0,
    "targetOffsetX": 0, "targetOffsetY": 0, "targetOffsetZ": 0
  },
  "postProcess": {
    "bloom": { "enabled": true, "threshold": 1.0, ... },
    "toneMapping": { "mode": 2, "exposure": 1.0, ... },
    "vignette": { ... }, "filmGrain": { ... }, "fxaa": { ... }
  },
  "entities": [...]
}
```

#### 10.6 èµ„æºç®¡ç†æ¥å…¥ âœ…
- [x] Asset Browser è¿æ¥åˆ° AssetManager
- [x] æ‹–æ‹½æ¨¡å‹åˆ° Viewport
- [x] ç¼“å­˜ç»Ÿè®¡æ˜¾ç¤º (æ–°å¢ Cache tab)
- [x] AssetManager åˆå§‹åŒ– (model loader, cache settings)
- [x] Windows + macOS åŒå¹³å°æ”¯æŒ

**æ–°å¢ UI åŠŸèƒ½:**
- Asset Browser æ–°å¢ "Cache" tab æ˜¾ç¤ºç¼“å­˜ç»Ÿè®¡
  - Total Loads / Cache Hits / Cache Misses
  - Hit Rate è¿›åº¦æ¡
  - Cached Assets æ•°é‡ / Cache Size (MB)
- æ–‡ä»¶æµè§ˆå™¨å¢å¼º (æ–‡ä»¶å¤§å° tooltip)
- Viewport æ‹–æ‹½æ¥æ”¶ (ä» Asset Browser æ‹–æ‹½æ–‡ä»¶åˆ°åœºæ™¯)

**æ–‡ä»¶:**
- `engine/ui/editor_ui.h`:
  - `AssetCacheStats` ç»“æ„
  - `drawAssetBrowserExtended()` - å¸¦ç¼“å­˜ç»Ÿè®¡çš„ Asset Browser
  - `handleViewportDragDrop()` - Viewport æ‹–æ‹½å¤„ç†
- `apps/luma_studio/main.cpp` - Windows AssetManager é›†æˆ
- `apps/luma_studio_macos/LumaView.mm` - macOS AssetManager é›†æˆ

#### 10.7 åŠŸèƒ½éªŒè¯æ¸…å• âœ…

**è‡ªåŠ¨åŒ–æµ‹è¯•** (`luma_integration_test`):
- [x] Math Types: Vec3/Quat/Mat4 è¿ç®—
- [x] Transform: çŸ©é˜µæ„å»ºã€æ¬§æ‹‰è§’è½¬æ¢
- [x] SceneGraph: åˆ›å»º/åˆ é™¤/å±‚çº§/æŸ¥æ‰¾
- [x] Animation: Skeleton/Clip/Animator
- [x] Serialization: JSON è§£æ/å†™å…¥/åœºæ™¯åºåˆ—åŒ–
- [x] PostProcess: è®¾ç½®ç»“æ„éªŒè¯

**æ‰‹åŠ¨æµ‹è¯•æ¸…å•** (è¿è¡Œ `--manual` å‚æ•°æŸ¥çœ‹):
- [x] åœºæ™¯å›¾ï¼šåˆ›å»ºã€åˆ é™¤ã€é‡å‘½åã€çˆ¶å­å…³ç³»
- [x] Transformï¼šä½ç½®ã€æ—‹è½¬ã€ç¼©æ”¾ç¼–è¾‘
- [x] Gizmoï¼šç§»åŠ¨ã€æ—‹è½¬ã€ç¼©æ”¾æ“ä½œ
- [x] é˜´å½±ï¼šæ–¹å‘å…‰é˜´å½±ã€PCF è½¯é˜´å½±
- [x] IBLï¼šç¯å¢ƒè´´å›¾åŠ è½½ã€åå°„æ•ˆæœ
- [x] åå¤„ç†ï¼šBloomã€ToneMappingã€FXAA
- [x] åŠ¨ç”»ï¼šæ’­æ”¾ã€æš‚åœã€æ—¶é—´è½´æ‹–åŠ¨
- [x] åºåˆ—åŒ–ï¼šä¿å­˜ã€åŠ è½½åœºæ™¯ï¼ˆå«ç›¸æœºå’Œåå¤„ç†è®¾ç½®ï¼‰
- [x] Shader çƒ­é‡è½½ï¼šä¿®æ”¹ .hlsl/.metal è‡ªåŠ¨æ›´æ–°

**æµ‹è¯•æ–‡ä»¶:**
- `tests/integration_test.h` - æµ‹è¯•å¥—ä»¶
- `tests/run_tests.cpp` - æµ‹è¯•è¿è¡Œå™¨
- ç¼–è¯‘: `cmake --build build --target luma_integration_test`
- è¿è¡Œ: `./build/luma_integration_test [--manual]`

---

## é˜¶æ®µ 11ï¼šäº§å“åŠŸèƒ½å®Œå–„ âœ…

> ç›®æ ‡ï¼šå°† LUMA Studio ä»æŠ€æœ¯æ¼”ç¤ºæå‡ä¸ºå¯ç”¨çš„äº§å“
> 
> **å®ŒæˆçŠ¶æ€**: 11.1-11.6 å·²å®Œæˆï¼Œ11.7 å¹³å°æ‰©å±•å¾…åç»­å®ç°

### 11.1 Undo/Redo ç³»ç»Ÿ âœ…
- [x] Command æ¨¡å¼åŸºç¡€æ¶æ„ (`engine/editor/command.h`)
- [x] Transform æ“ä½œæ’¤é”€ (`engine/editor/commands/transform_commands.h`)
- [x] åœºæ™¯å›¾æ“ä½œæ’¤é”€ (`engine/editor/commands/scene_commands.h`)
- [x] å¿«æ·é”®ç»‘å®š (Ctrl+Z / Ctrl+Shift+Z, Cmd+Z / Cmd+Shift+Z on macOS)
- [x] History Panel UI (Edit > History Panel)
- [x] å¯¹è±¡å¤åˆ¶ Ctrl+D / Cmd+D
- [ ] æè´¨ä¿®æ”¹æ’¤é”€ (å¾…æè´¨ç¼–è¾‘å™¨å®ç°åæ·»åŠ )

### 11.2 æè´¨ç¼–è¾‘å™¨ âœ…
- [x] PBR Material ç»“æ„ (`engine/material/material.h`)
- [x] MaterialLibrary ç®¡ç†å™¨
- [x] Inspector æè´¨å±æ€§é¢æ¿
- [x] Base Color é¢œè‰²é€‰æ‹©å™¨ (RGBA)
- [x] Metallic / Roughness / AO æ»‘å—
- [x] Emissive é¢œè‰²ä¸å¼ºåº¦æ§åˆ¶
- [x] Advanced å±æ€§ (Normal Strength, IOR, Two-Sided, Alpha)
- [x] çº¹ç†æ§½ä½ UI (æ‹–æ‹½æ”¯æŒ)
- [x] æè´¨é¢„è®¾ (Gold, Silver, Copper, Plastic, Rubber, Glass, Emissive)
- [x] Material Commands for Undo/Redo (`engine/editor/commands/material_commands.h`)

### 11.3 æˆªå›¾ä¸å¯¼å‡º âœ…
- [x] ScreenshotExporter ç³»ç»Ÿ (`engine/export/screenshot.h`)
- [x] PNG/JPG æ ¼å¼æ”¯æŒ
- [x] åˆ†è¾¨ç‡é¢„è®¾ (HD, FHD, 4K, Square)
- [x] è‡ªå®šä¹‰åˆ†è¾¨ç‡
- [x] é€æ˜èƒŒæ™¯é€‰é¡¹
- [x] Supersampling (1x/2x/4x)
- [x] Screenshot Settings Dialog UI
- [x] File èœå•é›†æˆ (F12 å¿«æ·é”®)
- [x] åŠ¨ç”»åºåˆ—å¯¼å‡º API
- [ ] è§†é¢‘ç¼–ç  (MP4/GIF) - éœ€ç¬¬ä¸‰æ–¹åº“

### 11.4 å¤šå…‰æºç³»ç»Ÿ âœ…
- [x] Light ç±»å‹å®šä¹‰ (`engine/lighting/light.h`)
- [x] æ”¯æŒ Directional / Point / Spot å…‰æº
- [x] LightManager ç®¡ç†å™¨ (æœ€å¤š 16 ç›ç¯)
- [x] AmbientLight è®¾ç½® (å« IBL é€‰é¡¹)
- [x] Entity Light ç»„ä»¶é›†æˆ
- [x] Lighting Panel UI (æ·»åŠ /åˆ é™¤/ç¼–è¾‘å…‰æº)
- [x] Inspector å…‰æºå±æ€§ç¼–è¾‘
- [x] å…‰æºè¡°å‡è®¡ç®— (constant/linear/quadratic)
- [x] Spot å…‰é”¥è®¡ç®— (inner/outer cone)
- [x] é˜´å½±å‚æ•° (bias, softness, map size)
- [x] GPU Light Data æ‰“åŒ… API
- [ ] å…‰æº Gizmo å¯è§†åŒ– (å¾…å®ç°)
- [ ] å¤šå…‰æºé˜´å½±æ¸²æŸ“ (å¾…å®ç°)

### 11.5 ç¼–è¾‘å™¨å¢å¼º âœ…
- [x] å¤šé€‰æ”¯æŒ (`SceneGraph::selectedEntities_`)
- [x] å¯¹è±¡å¤åˆ¶/ç²˜è´´ (`copySelection/pasteClipboard`)
- [x] å®ä½“å¤åˆ¶ (`duplicateEntity`)
- [x] ç›¸æœºé¢„è®¾ (Front/Back/Left/Right/Top/Bottom/Perspective)
- [x] ç›¸æœºä¹¦ç­¾ä¿å­˜/åŠ è½½
- [x] View èœå• Camera View å­èœå•
- [x] View èœå• Camera Bookmarks å­èœå•
- [x] çº¿æ¡†æ¨¡å¼é€‰é¡¹
- [x] æ­£äº¤è§†å›¾é€‰é¡¹
- [ ] æ‚¬åœé«˜äº® (å¾…å®ç°)
- [ ] æ¡†é€‰æ”¯æŒ (å¾…å®ç°)

### 11.6 æ€§èƒ½ä¼˜åŒ– âœ…
- [x] **Frustum Culling** (`engine/rendering/culling.h`)
  - Plane/Frustum æ•°å­¦åº“
  - BoundingSphere / AABB åŒ…å›´ä½“
  - FrustumCuller è§†é”¥è£å‰ªå™¨
  - CullingSystem ç»Ÿä¸€ç®¡ç†
- [x] **LOD System** (`engine/rendering/lod.h`)
  - LODLevel / LODGroup å®šä¹‰
  - è·ç¦»/å±å¹•å°ºå¯¸é€‰æ‹©
  - å¹³æ»‘è¿‡æ¸¡æ”¯æŒ
  - LODManager å…¨å±€ç®¡ç†
  - Quality é¢„è®¾ (Low/Medium/High/Ultra)
- [x] **GPU Instancing** (`engine/rendering/instancing.h`)
  - InstanceData GPU æ•°æ®ç»“æ„
  - InstanceBatch æ‰¹æ¬¡ç®¡ç†
  - InstancingManager å®ä¾‹åŒ–ç®¡ç†å™¨
  - IndirectDrawCommand é—´æ¥ç»˜åˆ¶æ”¯æŒ
- [x] **Occlusion Culling** (`engine/rendering/culling.h`)
  - OcclusionCuller é®æŒ¡æŸ¥è¯¢è¾…åŠ©
  - åƒç´ é˜ˆå€¼å¯é…ç½®
- [x] **Render Optimizer** (`engine/rendering/render_optimizer.h`)
  - ç»Ÿä¸€ä¼˜åŒ–ç®¡çº¿
  - RenderQueue æ¸²æŸ“é˜Ÿåˆ— (å‰åæ’åº)
  - é€æ˜/ä¸é€æ˜åˆ†ç¦»
  - å¸§ç»Ÿè®¡ä¿¡æ¯

### 11.7 å¹³å°æ‰©å±• (ç§»è‡³ Phase 14)
- [ ] iOS æŸ¥çœ‹å™¨
- [ ] Android æŸ¥çœ‹å™¨
- [ ] WebGL/WebGPU ç‰ˆæœ¬

---

## é˜¶æ®µ 12ï¼šåŠ¨ç”»ç³»ç»Ÿå¢å¼º âœ…

> ç›®æ ‡ï¼šå®Œå–„åŠ¨ç”»ç³»ç»Ÿï¼Œæ”¯æŒå¤æ‚åŠ¨ç”»æ··åˆå’ŒçŠ¶æ€ç®¡ç†

### 12.1 åŠ¨ç”»æ··åˆç³»ç»Ÿ âœ…
- [x] åŠ¨ç”»å±‚ (`engine/animation/animation_layer.h`)
  - AnimationLayer ç±»
  - å¤šå±‚åŠ¨ç”»æ’­æ”¾
  - Override/Additive/Multiply æ··åˆæ¨¡å¼
- [x] éª¨éª¼è’™ç‰ˆ (BoneMask)
  - æŒ‰éª¨éª¼åç§°è¿‡æ»¤
  - é€’å½’å­éª¨éª¼åŒ…å«
  - é¢„è®¾è’™ç‰ˆ (UpperBody/LowerBody/Arms)
- [x] æ··åˆæ ‘ (`engine/animation/blend_tree.h`)
  - BlendTree1D (1D å‚æ•°æ··åˆ)
  - BlendTree2D (2D å‚æ•°æ··åˆ)
  - å·¥å‚æ–¹æ³• (Locomotion/Directional)
- [x] Crossfade è¿‡æ¸¡
- [x] åŠ æ³•æ··åˆ (Additive Blending)
- [x] AnimationLayerManager

### 12.2 åŠ¨ç”»çŠ¶æ€æœº âœ…
- [x] AnimationStateMachine (`engine/animation/state_machine.h`)
- [x] AnimationState çŠ¶æ€èŠ‚ç‚¹
- [x] StateTransition è½¬æ¢
- [x] TransitionCondition æ¡ä»¶
  - If/IfNot/Greater/Less/GreaterEqual/LessEqual
- [x] AnimationParameter å‚æ•°
  - Float/Int/Bool/Trigger ç±»å‹
- [x] Any State è½¬æ¢
- [x] Exit Time æ”¯æŒ
- [x] ä¼˜å…ˆçº§æ’åº
- [x] é¢„è®¾çŠ¶æ€æœº (Locomotion/Combat)

### 12.3 é€†å‘è¿åŠ¨å­¦ (IK) âœ…
- [x] `engine/animation/ik_system.h`
- [x] TwoBoneIK (æ‰‹è‡‚/è…¿)
- [x] LookAtIK (å¤´éƒ¨è·Ÿè¸ª)
- [x] FootIK (åœ°å½¢é€‚åº”)
- [x] FABRIK (è¿­ä»£å¼ IK é“¾)
- [x] IKManager (å¤š IK ç®¡ç†)
- [x] IKRigHelper (äººå½¢éª¨éª¼è‡ªåŠ¨è®¾ç½®)

### 12.4 Timeline ç¼–è¾‘å™¨å¢å¼º âœ…
- [x] `engine/animation/timeline.h`
- [x] AnimationCurve<T> (æ³›å‹æ›²çº¿)
- [x] CurveKeyframe (Bezier åˆ‡çº¿)
- [x] TimelineTrack (å¤šè½¨é“)
- [x] Timeline (æ’­æ”¾æ§åˆ¶)
- [x] å…³é”®å¸§å¤åˆ¶/ç²˜è´´
- [x] CurveEditorState (æ›²çº¿ç¼–è¾‘å™¨ UI çŠ¶æ€)
- [x] æ ‡è®°ç³»ç»Ÿ (Markers)
- [x] å¸é™„ (Snap to frame/marker)

### 12.5 åŠ¨ç”»å·¥å…· âœ…
- [x] `engine/animation/animation_tools.h`
- [x] AnimationRetargeter (åŠ¨ç”»é‡å®šå‘)
  - éª¨éª¼æ˜ å°„
  - è‡ªåŠ¨æ˜ å°„ç”Ÿæˆ
  - æ—‹è½¬/ç¼©æ”¾/é•œåƒè°ƒæ•´
- [x] AnimationCompressor (åŠ¨ç”»å‹ç¼©)
  - çº¿æ€§å†—ä½™å…³é”®å¸§åˆ é™¤
  - å¯é…ç½®å®¹å·®
  - å‹ç¼©ç»Ÿè®¡
- [x] RootMotionExtractor (æ ¹è¿åŠ¨)
  - å¤šç§æå–æ¨¡å¼ (XZ/XYZ/Y/Rotation)
  - çƒ˜ç„™/ç§»é™¤æ ¹è¿åŠ¨
- [x] AnimationNotifyTrack (åŠ¨ç”»é€šçŸ¥)
  - äº‹ä»¶/éŸ³æ•ˆ/ç²’å­/è„šæ­¥è§¦å‘

---

## é˜¶æ®µ 13ï¼šé«˜çº§æ¸²æŸ“ç‰¹æ•ˆ âœ…

> ç›®æ ‡ï¼šå®ç°ç°ä»£æ¸¸æˆå¼•æ“çº§åˆ«çš„æ¸²æŸ“æ•ˆæœ

### 13.1 SSAO (å±å¹•ç©ºé—´ç¯å¢ƒå…‰é®è”½) âœ…
- [x] `engine/rendering/ssao.h`
- [x] SSAOSettings (é‡‡æ ·æ•°/åŠå¾„/å¼ºåº¦ç­‰)
- [x] SSAOKernel (åŠçƒé‡‡æ ·æ ¸)
- [x] SSAONoise (4x4 æ—‹è½¬å™ªå£°)
- [x] Metal Shader (SSAO + Blur + Apply)
- [x] è´¨é‡é¢„è®¾ (Low/Medium/High/Ultra)

### 13.2 HDR ç¯å¢ƒå…‰ç…§ (IBL) âœ…
- [x] `engine/rendering/ibl.h`
- [x] HDRImage (æµ®ç‚¹ HDR æ•°æ®)
- [x] HDRLoader (Radiance æ ¼å¼)
- [x] EnvironmentMap
  - ç­‰è·æŸ±çŠ¶å›¾è½¬ç«‹æ–¹ä½“è´´å›¾
  - æ¼«åå°„è¾ç…§åº¦å·ç§¯
  - é¢„æ»¤æ³¢é•œé¢åå°„è´´å›¾
  - BRDF LUT ç”Ÿæˆ
- [x] IBLSettings

### 13.3 å±å¹•ç©ºé—´åå°„ (SSR) âœ…
- [x] `engine/rendering/ssr.h`
- [x] SSRSettings (æ­¥æ•°/è·ç¦»/åšåº¦ç­‰)
- [x] SSRTracer (CPU å°„çº¿è¡Œè¿›)
- [x] SSRHit ç»“æœç»“æ„
- [x] äºŒåˆ†æœç´¢ç²¾ç»†åŒ–
- [x] è¾¹ç¼˜æ·¡å‡º
- [x] Metal Shader (SSR + Blur + Composite)
- [x] è´¨é‡é¢„è®¾ (Low/Medium/High)

### 13.4 ä½“ç§¯æ•ˆæœ âœ…
- [x] `engine/rendering/volumetrics.h`
- [x] VolumetricFog
  - é«˜åº¦è¡°å‡å¯†åº¦
  - Henyey-Greenstein ç›¸ä½å‡½æ•°
  - æ•£å°„/å¸æ”¶è®¡ç®—
- [x] GodRays (å±å¹•ç©ºé—´å…‰çº¿)
- [x] AtmosphericScattering
  - Rayleigh æ•£å°„ (è“å¤©)
  - Mie æ•£å°„ (å¤ªé˜³å…‰æ™•)
  - è¡Œæ˜Ÿå¤§æ°”æ¨¡æ‹Ÿ
- [x] é¢„è®¾ (Earth/Mars/LightFog/DenseFog)
- [x] Metal Shader (Fog + GodRay)

### 13.5 é«˜çº§é˜´å½± âœ…
- [x] `engine/rendering/advanced_shadows.h`
- [x] Cascaded Shadow Maps (CSM)
  - å¤šçº§çº§è” (1-4)
  - è‡ªåŠ¨åˆ†å‰²è·ç¦»è®¡ç®—
  - é˜´å½±ç¨³å®šåŒ– (é˜²æ­¢æ¸¸æ³³)
  - çº§è”æ··åˆ
- [x] PCSS (Percentage Closer Soft Shadows)
  - Blocker æœç´¢
  - å¯å˜åŠå½±å¤§å°
  - Poisson Disk é‡‡æ ·
- [x] æ¥è§¦ç¡¬åŒ–é˜´å½± (Contact Hardening)
- [x] CSM/PCF/PCSS Metal Shader
- [x] è´¨é‡é¢„è®¾ (Low/Medium/High/Ultra)

---

## é˜¶æ®µ 14ï¼šå¹³å°æ‰©å±• ğŸ“‹

> ç›®æ ‡ï¼šå°† LUMA Studio æ‰©å±•åˆ°å¤šä¸ªå¹³å°

### 14.1 iOS æŸ¥çœ‹å™¨
- [ ] iOS Metal æ¸²æŸ“å™¨
- [ ] è§¦æ‘¸æ‰‹åŠ¿ (æ—‹è½¬/ç¼©æ”¾/å¹³ç§»)
- [ ] ARKit æ”¯æŒ (å¯é€‰)
- [ ] ç§»åŠ¨ç«¯ UI é€‚é…
- [ ] æ€§èƒ½ä¼˜åŒ– (LOD/å‰”é™¤)

### 14.2 Android æŸ¥çœ‹å™¨
- [ ] Vulkan æ¸²æŸ“å™¨
- [ ] è§¦æ‘¸äº¤äº’
- [ ] å¤šè®¾å¤‡å…¼å®¹
- [ ] å†…å­˜ä¼˜åŒ–

### 14.3 Web ç‰ˆæœ¬
- [ ] WebGPU æ¸²æŸ“å™¨
- [ ] WebGL 2.0 å›é€€
- [ ] èµ„æºæµå¼åŠ è½½
- [ ] Web Worker å¤šçº¿ç¨‹

---

## é˜¶æ®µ 15ï¼šæµ‹è¯•ä¸æ–‡æ¡£ä¸ç¤ºä¾‹ âœ…

> ç›®æ ‡ï¼šç¡®ä¿ä»£ç è´¨é‡å’Œå¯ç»´æŠ¤æ€§ï¼Œæä¾›å®Œæ•´ç¤ºä¾‹

### 15.1 æµ‹è¯•è¦†ç›– âœ…
- [x] `tests/unit_tests.h` - å®Œæ•´å•å…ƒæµ‹è¯•å¥—ä»¶
  - Math Tests (Vec3, Quat, Mat4)
  - Animation Tests (Skeleton, Clip, Animator, BlendTree, StateMachine)
  - Rendering Tests (Culling, LOD, SSAO, IBL, CSM, PCSS, Volumetrics)
  - IK Tests (TwoBoneIK, LookAtIK, IKManager)
  - Timeline Tests (Curve, Playback, Markers)
- [x] `tests/integration_test.h` - é›†æˆæµ‹è¯•
  - SceneGraph Tests
  - Transform Tests
  - Serialization Tests
- [x] `tests/run_tests.cpp` - æµ‹è¯•è¿è¡Œå™¨
  - å‘½ä»¤è¡Œå‚æ•°æ”¯æŒ
  - å•å…ƒ/é›†æˆæµ‹è¯•é€‰æ‹©
  - æ‰‹åŠ¨æµ‹è¯•æ¸…å•

### 15.2 æ–‡æ¡£ âœ…
- [x] `docs/ARCHITECTURE.md` - æ¶æ„è®¾è®¡æ–‡æ¡£
  - ç›®å½•ç»“æ„
  - æ ¸å¿ƒç³»ç»Ÿæ¦‚è¿°
  - æ¸²æŸ“ç®¡çº¿æµç¨‹
  - å¹³å°æŠ½è±¡å±‚
  - æ‰©å±•ç‚¹
- [x] `docs/API_REFERENCE.md` - API å‚è€ƒæ–‡æ¡£
  - Math Types (Vec3, Quat, Mat4)
  - Scene Graph API
  - Animation API
  - Material & Lighting API
  - Rendering API
  - Editor API
  - Serialization API
  - Timeline API

### 15.3 ç¤ºä¾‹é¡¹ç›® âœ…

**A. ä»£ç ç¤ºä¾‹ (`examples/`)**
- [x] `01_basic_scene.h` - åœºæ™¯åˆ›å»ºã€Transformã€é€‰æ‹©
- [x] `02_animation.h` - éª¨éª¼åŠ¨ç”»ã€çŠ¶æ€æœºã€æ··åˆæ ‘ã€IK
- [x] `03_materials.h` - PBR æè´¨ã€é¢„è®¾ã€é€æ˜/å‘å…‰
- [x] `04_lighting.h` - å…‰æºç±»å‹ã€ä¸‰ç‚¹ç…§æ˜ã€è‰²æ¸©
- [x] `05_post_processing.h` - Bloomã€SSAOã€SSRã€ä½“ç§¯æ•ˆæœ
- [x] `06_performance.h` - Cullingã€LODã€Instancingã€Benchmark
- [x] `examples.h` - ç»Ÿä¸€å…¥å£ã€åˆ†ç±»ç›®å½•

**B. åœºæ™¯æ–‡ä»¶ (`assets/scenes/*.luma`)**
- [x] `demo_basic.luma` - åŸºç¡€åœºæ™¯ (3 å¯¹è±¡ + åŒå…‰æº)
- [x] `demo_materials.luma` - 5Ã—5 æè´¨ç½‘æ ¼æ¼”ç¤º
- [x] `demo_lighting.luma` - å¤šå…‰æº + èšå…‰ç¯æ¼”ç¤º

**C. æ•™ç¨‹æ–‡æ¡£ (`docs/tutorials/`)**
- [x] `01_getting_started.md` - å¿«é€Ÿå…¥é—¨
- [x] `02_scene_setup.md` - åœºæ™¯ç»„ç»‡
- [x] `03_materials.md` - PBR æè´¨è¯¦è§£
- [x] `04_animation.md` - åŠ¨ç”»ç³»ç»Ÿä½¿ç”¨
- [x] `05_lighting.md` - å…‰ç…§è®¾ç½®
- [x] `06_optimization.md` - æ€§èƒ½ä¼˜åŒ–æŒ‡å—

**D. å†…ç½®æ¼”ç¤ºæ¨¡å¼ (`engine/editor/demo_mode.h`)**
- [x] DemoMode ç±» (10 ç§æ¼”ç¤ºåœºæ™¯)
- [x] DemoInfo ç»“æ„ (id/name/description/category)
- [x] æ¼”ç¤ºåœºæ™¯ç”Ÿæˆå™¨:
  - basic - åŸºç¡€åœºæ™¯
  - materials - æè´¨ç½‘æ ¼
  - lighting - å¤šå…‰æº
  - hierarchy - å±‚çº§å…³ç³» (å¤ªé˜³ç³»)
  - animation_ready - åŠ¨ç”»å‡†å¤‡åœºæ™¯
  - post_process - åå¤„ç†æ¼”ç¤º (å‘å…‰)
  - stress_test - å‹åŠ›æµ‹è¯• (900 å¯¹è±¡)
  - material_presets - æ‰€æœ‰æè´¨é¢„è®¾
  - emissive - å‘å…‰/éœ“è™¹æ•ˆæœ
  - three_point - ä¸‰ç‚¹ç…§æ˜
- [x] DemoMenuState (Help èœå•é›†æˆ)

---

## ğŸ“ æ—§è®¡åˆ’ï¼ˆå·²æ•´åˆåˆ°è·¯çº¿å›¾ï¼‰

<details>
<summary>ç‚¹å‡»å±•å¼€æ—§è®¡åˆ’</summary>

#### æè´¨ç¼–è¾‘å™¨ UI
- [ ] **å®æ—¶æè´¨ç¼–è¾‘**
  - Metallicã€Roughnessã€Base Color æ»‘å—
  - çº¹ç†æ›¿æ¢ï¼ˆæ‹–æ‹½æˆ–æ–‡ä»¶é€‰æ‹©ï¼‰
  - å®æ—¶é¢„è§ˆæ›´æ–°

- [ ] **æè´¨ç®¡ç†**
  - æè´¨é¢„è®¾ä¿å­˜/åŠ è½½
  - æè´¨åº“ï¼ˆMaterial Libraryï¼‰
  - æè´¨å®ä¾‹åŒ–

#### ç¯å¢ƒè´´å›¾æ”¯æŒ
- [ ] .hdr æ–‡ä»¶åŠ è½½
  - ç¯å¢ƒè´´å›¾åˆ‡æ¢
  - ç¯å¢ƒå¼ºåº¦è°ƒèŠ‚

#### 5. åå¤„ç†æ•ˆæœ
- [ ] **åŸºç¡€åå¤„ç†**
  - Bloomï¼ˆæ³›å…‰æ•ˆæœï¼‰
  - è‰²è°ƒæ˜ å°„ä¼˜åŒ–ï¼ˆå¤šç§ç®—æ³•å¯é€‰ï¼‰
  - é¢œè‰²åˆ†çº§ï¼ˆColor Gradingï¼‰

- [ ] **é«˜çº§åå¤„ç†**
  - å±å¹•ç©ºé—´ç¯å¢ƒå…‰é®è”½ï¼ˆSSAOï¼‰
  - æŠ—é”¯é½¿ï¼ˆMSAA / TAAï¼‰
  - æ™¯æ·±ï¼ˆDepth of Fieldï¼Œå¯é€‰ï¼‰

### ä¼˜å…ˆçº§ 3ï¼šåŠ¨ç”»ä¸äº¤äº’

#### 6. åŠ¨ç”»æ”¯æŒ
- [ ] **éª¨éª¼åŠ¨ç”»**
  - éª¨éª¼å±‚æ¬¡ç»“æ„è§£æ
  - GPU Skinningï¼ˆé¡¶ç‚¹ç€è‰²å™¨è’™çš®ï¼‰
  - åŠ¨ç”»å‰ªè¾‘æ’­æ”¾
  - åŠ¨ç”»æ··åˆï¼ˆBlendingï¼‰

- [ ] **å…³é”®å¸§åŠ¨ç”»**
  - Transform å…³é”®å¸§ï¼ˆä½ç½®ã€æ—‹è½¬ã€ç¼©æ”¾ï¼‰
  - æ›²çº¿ç¼–è¾‘å™¨ï¼ˆBezier æ›²çº¿ï¼‰
  - åŠ¨ç”»æ—¶é—´è½´

- [ ] **Timeline ç¼–è¾‘å™¨**
  - æ—¶é—´è½´ UIï¼ˆå‚è€ƒ GOLDEN_PATHï¼‰
  - å¤šè½¨é“æ”¯æŒï¼ˆTransformã€Cameraã€Materialã€Animationï¼‰
  - æ’­æ”¾æ§åˆ¶ï¼ˆæ’­æ”¾/æš‚åœ/åœæ­¢ï¼‰
  - å…³é”®å¸§ç¼–è¾‘

#### 7. äº¤äº’ç³»ç»Ÿ
- [ ] **Action ç³»ç»Ÿ**
  - Action å®šä¹‰ï¼ˆApplyLookã€SetParameterã€SwitchCamera ç­‰ï¼‰
  - Action æ´¾å‘æœºåˆ¶
  - Action è®°å½•/å›æ”¾

- [ ] **çŠ¶æ€æœº**
  - çŠ¶æ€å®šä¹‰ï¼ˆStateï¼‰
  - çŠ¶æ€è½¬æ¢ï¼ˆTransitionï¼‰
  - äº‹ä»¶è§¦å‘ï¼ˆEvent Busï¼‰

### ä¼˜å…ˆçº§ 4ï¼šæ€§èƒ½ä¸ä¼˜åŒ–

#### 8. æ€§èƒ½ä¼˜åŒ–
- [ ] **æ¸²æŸ“ä¼˜åŒ–**
  - è§†é”¥å‰”é™¤ï¼ˆFrustum Cullingï¼‰
  - é®æŒ¡å‰”é™¤ï¼ˆOcclusion Cullingï¼Œå¯é€‰ï¼‰
  - LOD ç³»ç»Ÿï¼ˆLevel of Detailï¼‰
  - æ‰¹å¤„ç†ä¼˜åŒ–ï¼ˆInstancingï¼‰

- [ ] **èµ„æºä¼˜åŒ–**
  - çº¹ç†å‹ç¼©ï¼ˆBC1/BC3/BC7ï¼‰
  - çº¹ç†æµå¼åŠ è½½
  - æ¨¡å‹ç¼“å­˜

- [ ] **æ€§èƒ½åˆ†æ**
  - GPU æ€§èƒ½è®¡æ•°å™¨
  - å¸§æ—¶é—´åˆ†æ
  - æ€§èƒ½é¢æ¿ï¼ˆæ˜¾ç¤º Draw Callsã€Trianglesã€Memory ç­‰ï¼‰

#### 9. å·¥å…·ä¸å·¥ä½œæµ
- [ ] **æ‰“åŒ…å·¥å…·å¢å¼º**
  - ç¡®å®šæ€§æ„å»ºï¼ˆDeterministic Buildï¼‰
  - Asset Registryï¼ˆèµ„äº§æ³¨å†Œè¡¨ï¼‰
  - ä¾èµ–åˆ†æ

- [ ] **å¯¼å‡ºåŠŸèƒ½**
  - åœºæ™¯å¯¼å‡ºï¼ˆJSON/Binaryï¼‰
  - é¢„è§ˆå›¾ç”Ÿæˆ
  - ç§»åŠ¨ç«¯åŒ…ç”Ÿæˆï¼ˆiOS/Androidï¼‰

### ä¼˜å…ˆçº§ 5ï¼šå¹³å°æ‰©å±•

#### 10. å¤šå¹³å°æ”¯æŒ
- [ ] **ç§»åŠ¨ç«¯è¿è¡Œæ—¶**
  - iOS Runtimeï¼ˆMetal åç«¯ï¼‰
  - Android Runtimeï¼ˆVulkan åç«¯ï¼‰
  - ç§»åŠ¨ç«¯ Look Fallbackï¼ˆç®€åŒ–æ¸²æŸ“ç®¡çº¿ï¼‰

- [x] **è·¨å¹³å°æ¸²æŸ“åç«¯**
  - [ ] Vulkan åç«¯
  - [x] Metal åç«¯ï¼ˆmacOS/iOSï¼‰
  - [x] æ¸²æŸ“æŠ½è±¡å±‚ï¼ˆRHIï¼‰

#### 11. Look System
- [ ] **å…‰ç…§é…ç½®**
  - IBL/HDR ç¯å¢ƒé…ç½®
  - ä¸»å…‰æºè®¾ç½®
  - å…‰ç…§é¢„è®¾

- [ ] **åå¤„ç†é…ç½®**
  - æ›å…‰ã€è‰²è°ƒè°ƒèŠ‚
  - åå¤„ç†é“¾ï¼ˆBloomã€Tone Mapping ç­‰ï¼‰
  - Look é¢„è®¾ä¿å­˜/åŠ è½½

- [ ] **çƒ­åˆ‡æ¢**
  - è¿è¡Œæ—¶åˆ‡æ¢ Look
  - Look åºåˆ—åŒ–

---

## ğŸ“ å¼€å‘ç¬”è®°

### æŠ€æœ¯å†³ç­–
- **Pimpl æ¨¡å¼**ï¼š`UnifiedRenderer` ä½¿ç”¨ Pimpl éšè—å¹³å°å®ç°ç»†èŠ‚
- **è·¨å¹³å°æ¶æ„**ï¼šDX12 (Windows) å’Œ Metal (macOS) å…±ç”¨ç›¸åŒæ¥å£
- **æ¨¡å—åŒ–è®¾è®¡**ï¼šå°† UIã€ç›¸æœºã€è§†å£åˆ†ç¦»ï¼Œæé«˜ä»£ç å¯ç»´æŠ¤æ€§
- **åŠ¨æ€è£å‰ªå¹³é¢**ï¼šæ ¹æ®ç›¸æœºè·ç¦»è‡ªåŠ¨è°ƒæ•´ï¼Œæ”¯æŒå¤§åœºæ™¯ç¼©æ”¾
- **å¼‚æ­¥åŠ è½½**ï¼šçº¹ç†è§£ç åœ¨åå°çº¿ç¨‹ï¼Œä¸é˜»å¡ä¸»çº¿ç¨‹

### å·²çŸ¥é—®é¢˜
- æŸäº› FBX æ¨¡å‹çš„åµŒå…¥çº¹ç†è·¯å¾„å¯èƒ½ä¸æ­£ç¡®ï¼ˆå·²é€šè¿‡æ–‡ä»¶ååŒ¹é…è§£å†³ï¼‰

### å·²å®Œæˆä¼˜åŒ–
- [x] å¸¸é‡ç¼“å†²åŒºç¯å½¢ç¼“å†²ï¼ˆé¿å…æ¯å¸§ Map/Unmapï¼‰
- [x] å¼‚æ­¥çº¹ç†åŠ è½½ï¼ˆåå°çº¿ç¨‹è§£ç ï¼‰
- [x] æŒä¹…åŒ–æ˜ å°„ï¼ˆDX12ï¼‰

---

## ğŸ“… æ›´æ–°è®°å½•

- **2026-01-13**ï¼š**RHI é‡æ„ & ä»£ç ç»Ÿä¸€ (é˜¶æ®µ 3)**
  - è®¾è®¡è·¨å¹³å° RHI æŠ½è±¡æ¥å£ (`engine/renderer/rhi/`)
    - `rhi_types.h` - å¹³å°æ— å…³çš„æ¸²æŸ“ç±»å‹å®šä¹‰
    - `rhi_resources.h` - Bufferã€Textureã€Samplerã€Shaderã€Pipeline æŠ½è±¡
    - `rhi_device.h` - Device å’Œ CommandBuffer æŠ½è±¡æ¥å£
    - `rhi.h` - ç»Ÿä¸€å…¥å£å’Œè¾…åŠ©å‡½æ•°
  - å®ç° Metal RHI åç«¯ (`metal_rhi.mm`)
    - MetalBufferã€MetalTextureã€MetalSampler
    - MetalShaderã€MetalPipeline
    - MetalSwapchainã€MetalCommandBuffer
    - MetalDeviceï¼ˆè®¾å¤‡ç®¡ç†ã€èµ„æºåˆ›å»ºï¼‰
  - å®ç° DX12 RHI åç«¯ (`dx12_rhi.cpp`)
    - DX12Bufferã€DX12Textureã€DX12Sampler
    - DX12Shaderã€DX12Pipeline
    - DX12Swapchainã€DX12CommandBuffer
    - DX12Deviceï¼ˆè®¾å¤‡ç®¡ç†ã€Root Signatureï¼‰
  - **åˆ›å»º UnifiedRenderer ç»Ÿä¸€æ¸²æŸ“å™¨**
    - `unified_renderer.h` - è·¨å¹³å°æ¸²æŸ“å™¨æ¥å£
    - `unified_renderer_metal.mm` - Metal å®ç°
    - `unified_renderer_dx12.cpp` - DX12 å®ç°
    - æ”¯æŒ PBR æ¸²æŸ“ã€ç½‘æ ¼æ¸²æŸ“ã€åæ ‡è½´æ¸²æŸ“
    - ç»Ÿä¸€çš„æ¨¡å‹åŠ è½½å’Œèµ„æºç®¡ç†
  - **è¿ç§»åº”ç”¨åˆ° UnifiedRenderer**
    - macOS `LumaView.mm` ä½¿ç”¨ `UnifiedRenderer`
    - Windows åº”ç”¨æ”¯æŒ (å¾…å®Œæ•´æµ‹è¯•)
  - **æ¸…ç†æ—§ä»£ç **
    - æ—§ `PBRRenderer` ä»£ç å·²å®Œå…¨åˆ é™¤
    - ç»Ÿä¸€ä½¿ç”¨ `UnifiedRenderer`

- **2026-01-23**ï¼š**å¼‚æ­¥çº¹ç†åŠ è½½ & ä»£ç æ¸…ç†**
  - æ–°å¢å¼‚æ­¥çº¹ç†åŠ è½½ç³»ç»Ÿ (`engine/asset/async_texture_loader.h/cpp`)
    - 2 ä¸ªå·¥ä½œçº¿ç¨‹åå°è§£ç çº¹ç†
    - å‡ ä½•ä½“å³æ—¶æ˜¾ç¤ºï¼Œçº¹ç†é€æ¸åŠ è½½
    - UI æ˜¾ç¤ºåŠ è½½è¿›åº¦æ¡
  - ä»£ç æ¸…ç†
    - åˆ é™¤ `_deprecated/` æ–‡ä»¶å¤¹ï¼ˆæ—§ PBR æ¸²æŸ“å™¨ï¼‰
    - åˆ é™¤ `apps/creator_win/` Qt ç‰ˆä»£ç 
    - æ›´æ–° README.md åæ˜ å½“å‰æ¶æ„
  - Windows Creator è¿ç§»åˆ° `UnifiedRenderer`
    - `apps/creator_imgui/main.cpp` ä½¿ç”¨ç»Ÿä¸€æ¸²æŸ“å™¨

- **2026-01-12**ï¼š**Metal æ¸²æŸ“åç«¯æ”¯æŒ (é˜¶æ®µ 1 & 2)**
  - æ–°å¢ Metal ç€è‰²å™¨ (`engine/renderer/shaders/pbr.metal`)
    - å®Œæ•´ PBR ç®¡çº¿ï¼ˆCook-Torrance BRDFã€ACES è‰²è°ƒæ˜ å°„ï¼‰
    - Line shaderï¼ˆç”¨äºç½‘æ ¼å’Œåæ ‡è½´ï¼‰
  - æ–°å¢ Metal æ¸²æŸ“å™¨å®ç° (`unified_renderer_metal.mm`)
    - ä¸ DX12 ç‰ˆæœ¬åŠŸèƒ½å¯¹ç­‰
    - æ”¯æŒçº¹ç†åŠ è½½ï¼ˆDiffuseã€Normalã€Specular/Metallicï¼‰
    - æ”¯æŒç½‘æ ¼å’Œåæ ‡è½´æ¸²æŸ“
  - æ–°å¢ macOS åº”ç”¨ (`apps/creator_macos/`)
    - `LumaView` Metal è§†å›¾
    - å®Œæ•´ ImGui é›†æˆ
      - Model é¢æ¿ï¼ˆæ¨¡å‹ä¿¡æ¯ã€æ‰“å¼€æ–‡ä»¶ï¼‰
      - Camera é¢æ¿ï¼ˆè‡ªåŠ¨æ—‹è½¬ã€æ‰‹åŠ¨æ§åˆ¶ï¼‰
      - Material é¢æ¿ï¼ˆMetallicã€Roughnessã€Base Colorï¼‰
      - Viewport é¢æ¿ï¼ˆç½‘æ ¼å¼€å…³ï¼‰
      - å¸®åŠ©è¦†ç›–å±‚ï¼ˆF1ï¼‰
      - çŠ¶æ€æ ï¼ˆFPSï¼‰
    - Maya é£æ ¼ç›¸æœºæ§åˆ¶ï¼ˆOption + é¼ æ ‡ï¼‰
  - æ›´æ–° CMakeLists.txt æ”¯æŒ macOS æ„å»º
    - æ¡ä»¶ç¼–è¯‘ DX12/Metal
    - ImGui Metal åç«¯é›†æˆ
    - è‡ªåŠ¨é“¾æ¥ Metal æ¡†æ¶
    - ç€è‰²å™¨å¤åˆ¶åˆ° app bundle

- **2024-12-XX**ï¼šåˆå§‹å¼€å‘æ—¥å¿—åˆ›å»º
  - è®°å½•å·²å®ŒæˆåŠŸèƒ½ï¼ˆPBR æ¸²æŸ“ã€æ¨¡å‹åŠ è½½ã€ç›¸æœºæ§åˆ¶ã€UI ç­‰ï¼‰
  - åˆ¶å®šä¸‹ä¸€æ­¥å¼€å‘è®¡åˆ’

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [README.md](README.md) - é¡¹ç›®æ¦‚è§ˆå’Œå¿«é€Ÿå¼€å§‹
- [GOLDEN_PATH.md](GOLDEN_PATH.md) - 30 åˆ†é’Ÿä¸Šæ‰‹æŒ‡å—
